<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>

<BorderPane xmlns="http://javafx.com/javafx/17" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.example.shenanigans.features.dashboard.controller.DashboardController"
            styleClass="dashboard-root"
            stylesheets="@../styles/dashboard.css">
  <!-- Modern Header -->
  <top>
    <VBox styleClass="header-container">
      <HBox styleClass="header" alignment="CENTER_LEFT" spacing="16">
        <padding>
          <Insets top="16" right="24" bottom="16" left="24"/>
        </padding>
        <!-- Logo/Brand -->
        <HBox alignment="CENTER_LEFT" spacing="12">
          <StackPane styleClass="logo-container">
            <Circle radius="18" styleClass="logo-circle"/>
            <Label text="S" styleClass="logo-letter"/>
          </StackPane>
          <Label text="Shenanigans" styleClass="app-title"/>
        </HBox>
        <Region HBox.hgrow="ALWAYS"/>
        <!-- User Info -->
        <HBox alignment="CENTER_RIGHT" spacing="16">
          <VBox alignment="CENTER_RIGHT" spacing="2">
            <Label fx:id="welcomeLabel" text="Welcome!" styleClass="welcome-text"/>
            <Label fx:id="emailLabel" text="" styleClass="email-text"/>
          </VBox>
          <StackPane styleClass="avatar-container">
            <Circle radius="20" styleClass="avatar-circle"/>
            <Label text="U" styleClass="avatar-letter"/>
          </StackPane>
          <Button fx:id="logoutButton" text="Sign Out" onAction="#handleLogout" styleClass="logout-button"/>
        </HBox>
      </HBox>
    </VBox>
  </top>

  <!-- Modern Sidebar -->
  <left>
    <VBox fx:id="menuContainer" styleClass="sidebar" spacing="8" prefWidth="260">
      <padding>
        <Insets top="24" right="16" bottom="24" left="16"/>
      </padding>
      <!-- Role Badge -->
      <HBox alignment="CENTER">
        <Label fx:id="roleLabel" text="" styleClass="role-badge"/>
      </HBox>
      <Region prefHeight="16"/>
      <!-- Navigation Section -->
      <Label text="NAVIGATION" styleClass="menu-header"/>
      <VBox spacing="4" styleClass="menu-section">
        <Button fx:id="employeesButton" text="Employees" onAction="#handleEmployees" 
                                                        styleClass="menu-button" maxWidth="Infinity" graphicTextGap="12">
          <graphic>
            <Label text="ðŸ‘¥" styleClass="menu-icon"/>
          </graphic>
        </Button>
        <Button fx:id="projectsButton" text="Projects" onAction="#handleProjects" 
                                                        styleClass="menu-button" maxWidth="Infinity" graphicTextGap="12">
          <graphic>
            <Label text="ðŸ“‹" styleClass="menu-icon"/>
          </graphic>
        </Button>
        <Button fx:id="financeButton" text="Finance" onAction="#handleFinance" 
                                                        styleClass="menu-button" maxWidth="Infinity" graphicTextGap="12">
          <graphic>
            <Label text="ðŸ’°" styleClass="menu-icon"/>
          </graphic>
        </Button>
      </VBox>
      <Region VBox.vgrow="ALWAYS"/>
      <!-- Bottom Section -->
      <Separator styleClass="menu-separator"/>
      <VBox spacing="4">
        <Button fx:id="settingsButton" text="Settings" onAction="#handleSettings" 
                                                        styleClass="menu-button menu-button-secondary" maxWidth="Infinity" graphicTextGap="12">
          <graphic>
            <Label text="âš™ï¸" styleClass="menu-icon"/>
          </graphic>
        </Button>
      </VBox>
    </VBox>
  </left>

  <!-- Main Content Area -->
  <center>
    <ScrollPane styleClass="content-scroll" fitToWidth="true" fitToHeight="true">
      <VBox styleClass="content-area" spacing="24" alignment="TOP_LEFT">
        <padding>
          <Insets top="32" right="32" bottom="32" left="32"/>
        </padding>
        <!-- Page Header -->
        <VBox spacing="8">
          <Label text="Dashboard" styleClass="page-title"/>
          <Label text="Welcome back! Here's an overview of your workspace." styleClass="page-subtitle"/>
        </VBox>
        <!-- Quick Stats Cards -->
        <HBox spacing="20" styleClass="stats-container">
          <!-- Projects Card -->
          <VBox styleClass="stat-card stat-card-primary" alignment="TOP_LEFT" spacing="12" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="12">
              <StackPane styleClass="stat-icon-container stat-icon-blue">
                <Label text="ðŸ“‹" styleClass="stat-icon"/>
              </StackPane>
              <Label text="Active Projects" styleClass="stat-label"/>
            </HBox>
            <Label text="0" styleClass="stat-number"/>
            <HBox styleClass="stat-trend" spacing="6" alignment="CENTER_LEFT">
              <Label text="â–²" styleClass="trend-icon trend-up"/>
              <Label text="+12 from last month" styleClass="trend-text"/>
            </HBox>
          </VBox>
          <!-- Employees Card -->
          <VBox styleClass="stat-card stat-card-success" alignment="TOP_LEFT" spacing="12" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="12">
              <StackPane styleClass="stat-icon-container stat-icon-green">
                <Label text="ðŸ‘¥" styleClass="stat-icon"/>
              </StackPane>
              <Label text="Team Members" styleClass="stat-label"/>
            </HBox>
            <Label text="0" styleClass="stat-number"/>
            <HBox styleClass="stat-trend" spacing="6" alignment="CENTER_LEFT">
              <Label text="â–²" styleClass="trend-icon trend-up"/>
              <Label text="+3 new this month" styleClass="trend-text"/>
            </HBox>
          </VBox>
          <!-- Tasks Card -->
          <VBox styleClass="stat-card stat-card-warning" alignment="TOP_LEFT" spacing="12" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="12">
              <StackPane styleClass="stat-icon-container stat-icon-orange">
                <Label text="ðŸ“" styleClass="stat-icon"/>
              </StackPane>
              <Label text="Pending Tasks" styleClass="stat-label"/>
            </HBox>
            <Label text="0" styleClass="stat-number"/>
            <HBox styleClass="stat-trend" spacing="6" alignment="CENTER_LEFT">
              <Label text="â–¼" styleClass="trend-icon trend-down"/>
              <Label text="-5 from last week" styleClass="trend-text"/>
            </HBox>
          </VBox>
          <!-- Revenue Card -->
          <VBox styleClass="stat-card stat-card-info" alignment="TOP_LEFT" spacing="12" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="12">
              <StackPane styleClass="stat-icon-container stat-icon-purple">
                <Label text="ðŸ’µ" styleClass="stat-icon"/>
              </StackPane>
              <Label text="Revenue" styleClass="stat-label"/>
            </HBox>
            <Label text="0" styleClass="stat-number"/>
            <HBox styleClass="stat-trend" spacing="6" alignment="CENTER_LEFT">
              <Label text="â–²" styleClass="trend-icon trend-up"/>
              <Label text="+8 from last month" styleClass="trend-text"/>
            </HBox>
          </VBox>
        </HBox>
        <!-- Two Column Layout -->
        <HBox spacing="24" VBox.vgrow="ALWAYS">
          <!-- Recent Activity Section -->
          <VBox styleClass="card activity-section" spacing="16" HBox.hgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="12">
              <Label text="Recent Activity" styleClass="section-title"/>
              <Region HBox.hgrow="ALWAYS"/>
              <Button text="View All" styleClass="link-button"/>
            </HBox>
            <VBox spacing="12" styleClass="activity-list">
              <!-- Activity Items -->
              <HBox styleClass="activity-item" spacing="12" alignment="CENTER_LEFT">
                <StackPane styleClass="activity-dot activity-dot-blue"/>
                <VBox spacing="2" HBox.hgrow="ALWAYS">
                  <Label text="New project created" styleClass="activity-title"/>
                  <Label text="2 hours ago" styleClass="activity-time"/>
                </VBox>
              </HBox>
              <HBox styleClass="activity-item" spacing="12" alignment="CENTER_LEFT">
                <StackPane styleClass="activity-dot activity-dot-green"/>
                <VBox spacing="2" HBox.hgrow="ALWAYS">
                  <Label text="Employee onboarded" styleClass="activity-title"/>
                  <Label text="5 hours ago" styleClass="activity-time"/>
                </VBox>
              </HBox>
              <HBox styleClass="activity-item" spacing="12" alignment="CENTER_LEFT">
                <StackPane styleClass="activity-dot activity-dot-orange"/>
                <VBox spacing="2" HBox.hgrow="ALWAYS">
                  <Label text="Invoice generated" styleClass="activity-title"/>
                  <Label text="1 day ago" styleClass="activity-time"/>
                </VBox>
              </HBox>
              <Label text="No more recent activity" styleClass="empty-state"/>
            </VBox>
          </VBox>
          <!-- Quick Actions Section -->
          <VBox styleClass="card quick-actions" spacing="16" prefWidth="300">
            <Label text="Quick Actions" styleClass="section-title"/>
            <VBox spacing="10">
              <Button text="+ Add New Employee" styleClass="action-button action-primary" maxWidth="Infinity"/>
              <Button text="+ Create Project" styleClass="action-button action-secondary" maxWidth="Infinity"/>
              <Button text="+ Generate Report" styleClass="action-button action-tertiary" maxWidth="Infinity"/>
            </VBox>
          </VBox>
        </HBox>
      </VBox>
    </ScrollPane>
  </center>
</BorderPane>

<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressIndicator?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.StackPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.text.Font?>

<BorderPane prefHeight="712.0" prefWidth="1024.0" styleClass="finance-root" stylesheets="@../styles/finance.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.example.shenanigans.features.finance.controller.FinanceController">
  <left>
    <VBox fx:id="sidebarContent" prefWidth="277.0" spacing="8" styleClass="sidebar">
      <padding>
        <Insets bottom="24" left="20" right="20" top="12" />
      </padding>
      <HBox alignment="CENTER" spacing="0" style="-fx-padding:0 0 8 0;">
        <children>
          <Button fx:id="sidebarToggleButton" ellipsisString="+" mnemonicParsing="false" onAction="#handleSidebarToggle" prefHeight="28.0" prefWidth="239.0" styleClass="sidebar-toggle-button,sidebar-toggle-large" text="collapse" />
        </children>
      </HBox>
      <Label fx:id="menuHeaderLabel" styleClass="menu-header" text="MAIN MENU" />
      <VBox fx:id="mainMenuSection" spacing="6" styleClass="menu-section">
        <Button fx:id="dashboardButton" graphicTextGap="14" maxWidth="Infinity" onAction="#handleDashboard" styleClass="menu-button" text="ðŸ  Dashboard" />
        <Button fx:id="employeesButton" graphicTextGap="14" maxWidth="Infinity" onAction="#handleEmployees" styleClass="menu-button" text="ðŸ‘¥ Employees" />
        <Button fx:id="projectsButton" graphicTextGap="14" maxWidth="Infinity" onAction="#handleProjects" styleClass="menu-button" text="ðŸ“‹ Projects" />
        <Button fx:id="financeButton" graphicTextGap="14" maxWidth="Infinity" onAction="#handleFinance" styleClass="menu-button,menu-button-active" text="ðŸ’° Finance" />
      </VBox>
      <Region prefHeight="20" />
      <Label fx:id="settingsHeaderLabel" styleClass="menu-header" text="SETTINGS" />
      <VBox fx:id="settingsSection" spacing="6">
        <Button fx:id="settingsButton" graphicTextGap="14" maxWidth="Infinity" onAction="#handleSettings" styleClass="menu-button,menu-button-secondary" text="Settings">
          <graphic>
            <Label styleClass="menu-icon" text="âš™ï¸" />
          </graphic>
        </Button>
      </VBox>
      <Region prefHeight="38.0" prefWidth="236.0" VBox.vgrow="ALWAYS" />
      <VBox fx:id="systemInfoCard" spacing="8" styleClass="system-info-card">
        <padding>
          <Insets bottom="12" left="12" right="12" top="12" />
        </padding>
        <Label fx:id="systemInfoTitle" styleClass="system-info-title" text="System Status" />
        <HBox alignment="CENTER_LEFT" spacing="8">
          <StackPane styleClass="status-dot,status-dot-online" />
          <Label fx:id="systemInfoText" styleClass="system-info-text" text="All systems operational" />
        </HBox>
      </VBox>
    </VBox>
  </left>

  <!-- Modern Header -->
  <top>
    <VBox styleClass="header-container">
      <HBox alignment="CENTER_LEFT" prefHeight="88.0" prefWidth="1420.0" spacing="16" styleClass="header">
        <padding>
          <Insets bottom="16" left="24" right="24" top="16" />
        </padding>
        <!-- Logo/Brand -->
        <HBox alignment="CENTER_LEFT" spacing="12">
          <StackPane styleClass="logo-container">
            <Circle radius="20" styleClass="logo-circle" />
            <Label styleClass="logo-letter" text="S" />
          </StackPane>
          <VBox spacing="2">
            <Label styleClass="app-title" text="Shenanigans" />
            <Label styleClass="app-subtitle" text="Invoices" />
          </VBox>
        </HBox>
        <Region HBox.hgrow="ALWAYS" />
        <!-- Search -->
        <HBox alignment="CENTER_LEFT" spacing="8" styleClass="header-search-container">
          <Label styleClass="search-icon" text="ðŸ”" />
          <TextField fx:id="searchField" prefWidth="250" promptText="Search invoices..." styleClass="header-search-field" />
        </HBox>
        <!-- Actions -->
        <Button fx:id="refreshButton" onAction="#handleRefresh" styleClass="header-icon-button" text="â†»" />
        <Button fx:id="exportButton" onAction="#handleExport" styleClass="header-primary-button" text="Export" />
        <Button fx:id="addInvoiceButton" onAction="#handleAddInvoice" styleClass="header-primary-button" text="+ Add Invoice" />
        <!-- Loading and Status -->
        <HBox alignment="CENTER" spacing="12">
          <ProgressIndicator fx:id="loadingIndicator" maxHeight="20" maxWidth="20" visible="false" />
          <Label fx:id="statusLabel" styleClass="status-label" text="" />
        </HBox>
      </HBox>
    </VBox>
  </top>

  <center>
    <ScrollPane fitToWidth="true" prefHeight="624.0" prefWidth="1042.0" styleClass="content-scroll" BorderPane.alignment="CENTER">
      <VBox spacing="24" styleClass="content-area">
        <padding>
          <Insets bottom="24" left="24" right="24" top="24" />
        </padding>
        <HBox alignment="CENTER" prefHeight="115.0" prefWidth="686.0" spacing="20" styleClass="stats-row">
          <children>
            <VBox alignment="CENTER_LEFT" spacing="8" styleClass="stat-card stat-card-blue" HBox.hgrow="ALWAYS">
              <children>
                <HBox alignment="CENTER" spacing="12">
                  <children>
                    <StackPane styleClass="stat-icon-container stat-icon-blue">
                      <children>
                        <Label style="-fx-font-size: 18;" styleClass="stat-icon" text="ðŸ’°" textFill="#2a63d7" />
                      </children>
                    </StackPane>
                    <VBox alignment="TOP_CENTER" spacing="2">
                      <children>
                        <Label fx:id="totalCountLabel" style="-fx-font-size: 18;" styleClass="stat-value" text="0" />
                        <Label style="-fx-font-size: 18;" styleClass="stat-label" text="Total Invoices" />
                      </children>
                    </VBox>
                  </children>
                </HBox>
              </children>
            </VBox>
            <VBox alignment="CENTER_LEFT" spacing="8" styleClass="stat-card stat-card-orange" HBox.hgrow="ALWAYS">
              <children>
                <HBox alignment="CENTER" spacing="12">
                  <children>
                    <StackPane styleClass="stat-icon-container stat-icon-orange">
                      <children>
                        <Label style="-fx-font-size: 18;" styleClass="stat-icon" text="â³" textFill="#2a63d7" />
                      </children>
                    </StackPane>
                    <VBox alignment="TOP_CENTER" spacing="2">
                      <children>
                        <Label fx:id="activeCountLabel" style="-fx-font-size: 18;" styleClass="stat-value" text="0" />
                        <Label style="-fx-font-size: 18;" styleClass="stat-label" text="In Progress" />
                      </children>
                    </VBox>
                  </children>
                </HBox>
              </children>
            </VBox>
            <VBox alignment="CENTER" spacing="8" styleClass="stat-card stat-card-green" HBox.hgrow="ALWAYS">
              <children>
                <HBox alignment="CENTER" spacing="12">
                  <children>
                    <StackPane styleClass="stat-icon-container stat-icon-green">
                      <children>
                        <Label style="-fx-font-size: 18;" styleClass="stat-icon" text="âœ“" textFill="#2a63d7" />
                      </children>
                    </StackPane>
                    <VBox alignment="TOP_CENTER" spacing="2">
                      <children>
                        <Label fx:id="completedCountLabel" style="-fx-font-size: 18;" styleClass="stat-value" text="0" />
                        <Label style="-fx-font-size: 18;" styleClass="stat-label" text="Completed" />
                      </children>
                    </VBox>
                  </children>
                </HBox>
              </children>
            </VBox>
          </children>
        </HBox>
        <VBox fx:id="invoicesContainer" styleClass="invoices-container" />
        <HBox alignment="CENTER" prefHeight="402.0" prefWidth="699.0" spacing="48.0">
          <children>
            <VBox prefHeight="402.0" prefWidth="293.0" spacing="0" styleClass="kanban-column">
              <children>
                <HBox alignment="CENTER_LEFT" spacing="2.0" style="-fx-background-color: #2b64d6b0; -fx-background-radius: 16;">
                  <VBox.margin>
                    <Insets />
                  </VBox.margin>
                  <padding>
                    <Insets bottom="8.0" left="8.0" right="8.0" top="8.0" />
                  </padding>
                  <children>
                    <Label styleClass="kanban-column-icon" text="ðŸ’µ" textFill="WHITE">
                      <padding>
                        <Insets left="8.0" top="4.0" />
                      </padding>
                      <font>
                        <Font size="18.0" />
                      </font>
                    </Label>
                    <Label styleClass="kanban-column-title" text="Due" textFill="WHITE">
                      <padding>
                        <Insets left="8.0" top="4.0" />
                      </padding>
                      <font>
                        <Font name="System Bold" size="18.0" />
                      </font>
                    </Label>
                    <Region HBox.hgrow="ALWAYS" />
                    <Label fx:id="newColumnCount" styleClass="kanban-column-count" text="0" textFill="WHITE">
                      <font>
                        <Font name="System Bold" size="18.0" />
                      </font>
                    </Label>
                  </children>
                </HBox>
                <ScrollPane fitToWidth="true" styleClass="kanban-scroll" VBox.vgrow="ALWAYS">
                  <content>
                    <VBox fx:id="newProjectsContainer" spacing="12" styleClass="kanban-cards-container">
                      <padding>
                        <Insets bottom="16" left="16" right="16" top="16" />
                      </padding>
                    </VBox>
                  </content>
                </ScrollPane>
              </children>
            </VBox>
            <VBox layoutX="10.0" layoutY="10.0" prefHeight="402.0" prefWidth="293.0" spacing="0" styleClass="kanban-column">
              <children>
                <HBox alignment="CENTER_LEFT" spacing="2.0" style="-fx-background-color: #2b64d6b0; -fx-background-radius: 16;">
                  <VBox.margin>
                    <Insets />
                  </VBox.margin>
                  <padding>
                    <Insets bottom="8.0" left="8.0" right="8.0" top="8.0" />
                  </padding>
                  <children>
                    <Label styleClass="kanban-column-icon" text="ðŸ’³" textFill="WHITE">
                      <padding>
                        <Insets left="8.0" top="4.0" />
                      </padding>
                      <font>
                        <Font size="18.0" />
                      </font>
                    </Label>
                    <Label styleClass="kanban-column-title" text="Paid" textFill="WHITE">
                      <padding>
                        <Insets left="8.0" top="4.0" />
                      </padding>
                      <font>
                        <Font name="System Bold" size="18.0" />
                      </font>
                    </Label>
                    <Region HBox.hgrow="ALWAYS" />
                    <Label fx:id="newColumnCount1" styleClass="kanban-column-count" text="0" textFill="WHITE">
                      <font>
                        <Font name="System Bold" size="18.0" />
                      </font>
                    </Label>
                  </children>
                </HBox>
                <ScrollPane fitToWidth="true" styleClass="kanban-scroll" VBox.vgrow="ALWAYS">
                  <content>
                    <VBox fx:id="newProjectsContainer1" spacing="12" styleClass="kanban-cards-container">
                      <padding>
                        <Insets bottom="16" left="16" right="16" top="16" />
                      </padding>
                    </VBox>
                  </content>
                </ScrollPane>
              </children>
            </VBox>
          </children>
        </HBox>
      </VBox>
    </ScrollPane>
  </center>
</BorderPane>

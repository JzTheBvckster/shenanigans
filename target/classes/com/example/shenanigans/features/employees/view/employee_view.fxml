<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ProgressIndicator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/17" 
            xmlns:fx="http://javafx.com/fxml/1" 
            fx:controller="com.example.shenanigans.features.employees.controller.EmployeeController"
            styleClass="employee-root"
            stylesheets="@../styles/employee.css">
  <!-- Header -->
  <top>
    <VBox styleClass="header-section">
      <HBox styleClass="header" alignment="CENTER_LEFT" spacing="15">
        <padding>
          <Insets top="15" right="20" bottom="15" left="20"/>
        </padding>
        <Button text="â† Back" onAction="#handleBack" styleClass="back-button"/>
        <Label text="Employee Management" styleClass="page-title"/>
        <Region HBox.hgrow="ALWAYS"/>
        <ProgressIndicator fx:id="loadingIndicator" visible="false" prefWidth="24" prefHeight="24"/>
        <Label fx:id="statusLabel" text="" styleClass="status-label"/>
      </HBox>
      <!-- Stats Bar -->
      <HBox styleClass="stats-bar" alignment="CENTER_LEFT" spacing="30">
        <padding>
          <Insets top="10" right="20" bottom="10" left="20"/>
        </padding>
        <VBox alignment="CENTER" spacing="2">
          <Label fx:id="totalCountLabel" text="0" styleClass="stat-number"/>
          <Label text="Total Employees" styleClass="stat-label"/>
        </VBox>
        <VBox alignment="CENTER" spacing="2">
          <Label fx:id="activeCountLabel" text="0" styleClass="stat-number"/>
          <Label text="Active" styleClass="stat-label"/>
        </VBox>
        <Region HBox.hgrow="ALWAYS"/>
        <TextField fx:id="searchField" promptText="ðŸ” Search employees..." 
                                   styleClass="search-field" prefWidth="250"/>
        <Button fx:id="refreshButton" text="â†» Refresh" onAction="#loadEmployees" 
                                styleClass="refresh-button"/>
        <Button fx:id="addButton" text="+ Add Employee" onAction="#handleAddEmployee" 
                                styleClass="add-button"/>
      </HBox>
    </VBox>
  </top>

  <!-- Employee Table -->
  <center>
    <VBox styleClass="table-container">
      <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
      </padding>
      <TableView fx:id="employeeTable" VBox.vgrow="ALWAYS" styleClass="employee-table">
        <columns>
          <TableColumn fx:id="nameColumn" text="Name" prefWidth="180"/>
          <TableColumn fx:id="emailColumn" text="Email" prefWidth="200"/>
          <TableColumn fx:id="departmentColumn" text="Department" prefWidth="150"/>
          <TableColumn fx:id="positionColumn" text="Position" prefWidth="150"/>
          <TableColumn fx:id="statusColumn" text="Status" prefWidth="100"/>
        </columns>
        <placeholder>
          <Label text="No employees found. Click 'Add Employee' to create one." 
                                     styleClass="empty-placeholder"/>
        </placeholder>
      </TableView>
    </VBox>
  </center>
</BorderPane>
